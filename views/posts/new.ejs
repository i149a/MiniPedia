<%- include('../partials/header.ejs') %>

<h2>Create New Post</h2>

<form action="/posts" method="POST">
    <input type="text" name="title" placeholder="Title" required />
    <textarea name="body" placeholder="Content" required></textarea>
    <input type="text" name="image" placeholder="Image URL (optional)" />
  
    <h3>Select Tags:</h3>
    <% tags.forEach(tag => { %>
    <div>
        <input type="checkbox" name="tags" value="<%= tag._id %>">
        <label><%= tag.title %></label>
        <% if (tag.description) { %>
            <span>(<%= tag.description %>)</span>
        <% } %>
    </div>
    <% }); %>

    <input type="hidden" name="author" value="<%= currentUser._id %>">
    <button type="submit">Create Post</button>
</form>

<%- include('../partials/footer.ejs') %>